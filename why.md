# Why

理想的代码生成：

- 接近原生的高性能
- 灵活的配置
- 支持关联关系的生成
- 高扩展性
- 不改变传统的开发模式
  
调研了开源界主要的 ORM 或类 ORM 项目，每个项目或多或少都不够理想


## ent

### ent 优点

- 封装优雅
- 兼容主流数据库
- 兼顾性能
  
### ent 的不足

- 改变已有的开发模式，需要基于 Ent 的规范进行开发。
- 扩展基于 Extensions，有一定的学习成本，实现需要对 Ent 本身具有一定的了解，例如需要支持 GRPC， 则需要使用官方推荐的 GRPC Extensions， 一旦功能不能满足自身业务的场景，则很难再次扩展。
- 代码优先，已有业务需要转换开发模式，虽然有 entimport 第三方工具，但依然需要满足ent 隐式的约定，例如 
  - 外键的类型必须设置为 NULL ，如果已有业务外键类型为 NOT NULL 则不能正常使用
  - 关联必须通过表定义外键实现，而很多业务并没有在表定义时指定外键，而是在业务级别处理

## sqlboiler

基于配置生成 ORM 模板

### 优点

- 通过配置即可实现 ORM 模板的生成
- 支持自定义模板

### 不足

- 无法扩展其他类型的服务， 例如原生支持 OpenApi 的生成， Protobuf 定义文件的生成等等

## GORM

### 优点

- 兼容主流数据库

### 不足

- 大量使用反射，影响性能
- 不支持外部模板，无法自动生成业务代码